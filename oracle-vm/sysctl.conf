# TCP buffer sizes: min, default, and max for receiving and sending data
net.ipv4.tcp_rmem = 4096 87380 16777216
net.ipv4.tcp_wmem = 4096 65536 16777216

# Use BBR (Bottleneck Bandwidth and Round-trip propagation time) for better performance
net.ipv4.tcp_congestion_control = bbr

# TCP keepalive settings to ensure active connections and prevent timeouts
net.ipv4.tcp_keepalive_time = 600
net.ipv4.tcp_keepalive_intvl = 60
net.ipv4.tcp_keepalive_probes = 5

# Max buffer sizes for sockets
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216

# Max number of pending connections allowed
net.core.somaxconn = 65535

# Maximum number of file descriptors allowed (for handling many connections)
fs.file-max = 1000000

# Max number of packets allowed in the network device's backlog
net.core.netdev_max_backlog = 5000

